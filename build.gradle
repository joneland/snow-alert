apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.8

version = 0.1

mainClassName = "com.elandjo.snowalert.infrastructure.configuration.SnowAlertApplication"
applicationName = "snow-alert"

dependencies {
	compile 'commons-lang:commons-lang:2.6'
	compile 'io.dropwizard:dropwizard-core:0.9.0-rc1'

	testCompile 'junit:junit:4.12'
	testCompile 'org.mockito:mockito-core:1.10.19'
	testCompile 'org.hamcrest:hamcrest-all:1.3'
	testCompile 'org.assertj:assertj-core:3.0.0'
}

repositories {
	mavenCentral()
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.4'
}

task stage(dependsOn: ['clean', 'installDist'])

jar {
	from {
		(configurations.runtime).collect {
			it.isDirectory() ? it : zipTree(it)
		}
	}
	manifest {
		attributes("Main-Class": "com.elandjo.snowalert.infrastructure.configuration.SnowAlertApplication")
	}
}